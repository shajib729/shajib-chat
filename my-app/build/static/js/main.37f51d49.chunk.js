(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{73:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),c=a.n(s),o=(a(73),a(45)),i=a(12),l=a(26),d=a(3),p=function(){return Object(d.jsx)("div",{children:"Messages"})},u=a(22),j=a.n(u),b=a(35),m=a(24),f=a(20),O=a(34),x=(a(79),a(41)),h=a.n(x),g=a(119),y=a(121),v=a(120),w=a(117),N=a(115),k=a(116),S=a(118),C=(a(80),a(111)),T=a(19),D=function(e){var t=e.setHandlePopup,a=e.handlePopup,r=Object(l.b)(),s=Object(n.useState)(!0),c=Object(O.a)(s,2),o=c[0],i=c[1],p=Object(n.useState)({username:"",email:"",password:"",cpassword:""}),u=Object(O.a)(p,2),x=u[0],D=u[1],I=function(e){D(Object(f.a)(Object(f.a)({},x),{},Object(m.a)({},e.target.name,e.target.value)))},L=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.name&&t.email&&t.id)){e.next=8;break}return e.next=3,fetch("/api/registration",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.name,email:t.email,password:t.id,cpassword:t.id})});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,400===a.status?T.b.error(n.error.username||n.error.email||n.error.password||n.error.cpassword||n.error,{style:{padding:"10px",color:"#fff",fontSize:"16px",background:"red"},iconTheme:{primary:"white",secondary:"red"}}):(T.b.success(n.message,{style:{padding:"10px",color:"#fff",fontSize:"16px",background:"#62D346"},iconTheme:{primary:"white",secondary:"#62D346"}}),r({type:"LOGIN",payload:n.token}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/api/registration",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,400===a.status?T.b.error(n.error.username||n.error.email||n.error.password||n.error.cpassword||n.error,{style:{padding:"10px",color:"#fff",fontSize:"16px",background:"red"},iconTheme:{primary:"white",secondary:"red"}}):(T.b.success(n.message,{style:{padding:"10px",color:"#fff",fontSize:"16px",background:"#62D346"},iconTheme:{primary:"white",secondary:"#62D346"}}),r({type:"LOGIN",payload:n.token}),D({username:"",email:"",password:"",cpassword:""}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:a?"signupContainer":"hide signupContainer",children:[Object(d.jsx)(T.a,{position:"top-center",reverseOrder:!1}),Object(d.jsxs)("div",{className:"signupBox",children:[Object(d.jsx)(C.a,{className:"hideSignup",onClick:function(){return t(!1)}}),Object(d.jsx)("h4",{className:"signupTitle",children:"Sign Up"}),Object(d.jsx)("p",{className:"signupDesc",children:"It's quick and easy"}),Object(d.jsx)("hr",{}),Object(d.jsxs)("form",{onSubmit:_,autoComplete:"off",className:"signupForm",children:[Object(d.jsx)(g.a,{className:"fields",id:"outlined-basic",label:"Full Name",type:"text",autoComplete:"off",variant:"outlined",name:"username",value:x.username,onChange:I}),Object(d.jsx)(g.a,{className:"fields",id:"outlined-basic",label:"Email",type:"email",autoComplete:"off",variant:"outlined",name:"email",value:x.email,onChange:I}),Object(d.jsxs)("div",{className:"fields",children:[Object(d.jsx)(g.a,{id:"outlined-password-input",label:"Password",type:o?"text":"password",autoComplete:"off",variant:"outlined",name:"password",value:x.password,onChange:I}),Object(d.jsx)(y.a,{onClick:function(){return i(!o)},control:Object(d.jsx)(v.a,{icon:Object(d.jsx)(N.a,{}),checkedIcon:Object(d.jsx)(k.a,{})})})]}),Object(d.jsx)("div",{className:"fields",children:Object(d.jsx)(g.a,{id:"outlined-password-input",label:"Confirm Password",type:o?"text":"password",autoComplete:"off",variant:"outlined",name:"cpassword",value:x.cpassword,onChange:I})}),Object(d.jsx)("input",{className:"signupButton",type:"submit",value:"Sign Up"})]}),Object(d.jsxs)("div",{className:"alternateLogin",children:[Object(d.jsx)("span",{className:"signupWth",children:"Or"}),Object(d.jsx)(w.a,{className:"facebookButton",variant:"contained",color:"primary",children:Object(d.jsx)(h.a,{appId:"240379330783555",autoLoad:!1,fields:"name,email,picture",callback:L,icon:Object(d.jsx)(S.a,{className:"facebookIcon"}),textButton:"Sign up with Facebook"})})]})]})]})},I=function(){Object(l.c)((function(e){return e.AuthReducer})).user;var e=Object(l.b)(),t=Object(n.useState)(!1),a=Object(O.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(!1),o=Object(O.a)(c,2),i=o[0],p=o[1],u=Object(n.useState)({email:"",password:""}),x=Object(O.a)(u,2),C=x[0],I=x[1],L=function(e){I(Object(f.a)(Object(f.a)({},C),{},Object(m.a)({},e.target.name,e.target.value)))},_=function(){var t=Object(b.a)(j.a.mark((function t(a){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.email||!a.id){t.next=8;break}return t.next=3,fetch("/api/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.email,password:a.id})});case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,400===n.status?T.b.error(r.error.email||r.error.password||r.error,{style:{padding:"10px",color:"#fff",fontSize:"16px",background:"red"},iconTheme:{primary:"white",secondary:"red"}}):(T.b.success(r.message,{style:{padding:"10px",color:"#fff",fontSize:"16px",background:"#62D346"},iconTheme:{primary:"white",secondary:"#62D346"}}),e({type:"LOGIN",payload:r.token}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(){var t=Object(b.a)(j.a.mark((function t(a){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,fetch("/api/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,400===n.status?T.b.error(r.error.email||r.error.password||r.error,{style:{padding:"10px",color:"#fff",fontSize:"16px",background:"red"},iconTheme:{primary:"white",secondary:"red"}}):(T.b.success(r.message,{style:{padding:"10px",color:"#fff",fontSize:"16px",background:"#62D346"},iconTheme:{primary:"white",secondary:"#62D346"}}),e({type:"LOGIN",payload:r.token}),I({email:"",password:""}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)("section",{className:"loginContainer",children:[Object(d.jsx)(T.a,{position:"top-center",reverseOrder:!1}),Object(d.jsxs)("div",{className:"loginWrapper",children:[Object(d.jsxs)("div",{className:"loginLeft",children:[Object(d.jsx)("div",{className:"loginLeftTitle",children:"Chat-Box"}),Object(d.jsx)("div",{className:"loginLeftDesc",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illo magnam eum, atque sequi animi molestiae!"})]}),Object(d.jsx)("div",{className:"loginRight",children:Object(d.jsxs)("div",{className:"loginBox",children:[Object(d.jsxs)("form",{onSubmit:B,className:"loginForm",noValidate:!0,autoComplete:"off",children:[Object(d.jsx)(g.a,{onChange:L,value:C.email,name:"email",id:"outlined-basic",type:"email",label:"Email",variant:"outlined"}),Object(d.jsxs)("div",{className:"fields",children:[Object(d.jsx)(g.a,Object(m.a)({onChange:L,value:C.password,name:"password",id:"outlined-basic",type:"password",label:"Password",variant:"outlined"},"type",i?"text":"password")),Object(d.jsx)(y.a,{onClick:function(){return p(!i)},control:Object(d.jsx)(v.a,{icon:Object(d.jsx)(N.a,{}),checkedIcon:Object(d.jsx)(k.a,{})})})]}),Object(d.jsx)(w.a,{className:"loginButton",type:"submit",variant:"contained",color:"primary",children:"Login"})]}),Object(d.jsx)("span",{className:"loginWith",children:"or "}),Object(d.jsx)("div",{className:"alternateLogin",children:Object(d.jsx)(w.a,{className:"facebookButton",variant:"contained",color:"primary",children:Object(d.jsx)(h.a,{appId:"240379330783555",autoLoad:!1,fields:"id,email,picture",callback:_,icon:Object(d.jsx)(S.a,{className:"facebookIcon"})})})}),Object(d.jsx)("span",{className:"dontAccount",children:"Don't have any accont?"}),Object(d.jsx)(w.a,{onClick:function(){return s(!0)},className:"RegisterButton",type:"submit",variant:"contained",children:"Create New Account"})]})})]}),Object(d.jsx)(D,{handlePopup:r,setHandlePopup:s})]})},L=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"404! Not found page..."}),Object(d.jsx)(o.b,{to:"/",children:"Back To Home"})]})};var _=function(){var e=Object(l.c)((function(e){return e.AuthReducer})).user;return Object(d.jsx)(o.a,{children:Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{path:"/",exact:!0,children:e?Object(d.jsx)(p,{}):Object(d.jsx)(I,{})}),Object(d.jsx)(i.a,{exact:!0,component:L})]})})})},B=a(52),E=a(59),z={loading:!1,user:"",token:""},P=function(e){var t=Object(E.a)(e),a=new Date(1e3*t.exp);if(!(new Date>a))return localStorage.setItem("myToken",e),t;localStorage.removeItem("myToken")},R=localStorage.getItem("myToken");if(R){var A=P(R);z.token=R,A&&(z.user=A)}var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;return"LOGIN"===t.type?Object(f.a)(Object(f.a)({},e),{},{user:P(t.payload),token:t.payload}):"LOGOUT"===t.type?Object(f.a)(Object(f.a)({},e),{},{user:"",token:""}):e},J=Object(B.a)({AuthReducer:G}),U=Object(B.b)(J,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(l.a,{store:U,children:Object(d.jsx)(_,{})})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.37f51d49.chunk.js.map