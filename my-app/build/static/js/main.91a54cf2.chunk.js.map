{"version":3,"sources":["components/ChatUser/ChatUser.jsx","components/Left/Left.jsx","components/SearchResult/SearchResult.jsx","components/deletePopup/DeletePopup.jsx","components/imagePopup/ImagePopup.jsx","components/ProfileButton/ProfileButton.jsx","components/Navbar/NavBar.jsx","components/Message/Message.jsx","components/Right/RightTopBar/RightTopBar.jsx","components/Right/Right.jsx","page/Messages/Messages.jsx","components/Registration/Registration.jsx","page/Login/Login.jsx","page/Error/Error.jsx","App.js","store/reducer/AuthReducer.jsx","store/index.js","index.js"],"names":["ChatUser","conversation","useSelector","state","AuthReducer","user","history","conversationUser","newUserData","useHistory","id","useParams","friendId","members","find","m","_id","useState","chatUser","setChatUser","getUser","a","fetch","method","res","json","data","message","console","log","handleDeleteFriend","headers","status","push","useEffect","className","username","style","display","alignItems","src","profilePicture","alt","IconButton","Delete","onClick","margin","Skeleton","variant","width","height","background","marginLeft","Left","currentConversation","dispatch","useDispatch","conversations","setConversations","getConversation","type","payload","length","map","setTimeout","activeClassName","to","textAlign","color","userSelect","SearchResult","searchInput","setSearchInput","users","setUsers","handleClickedUser","handleUser","some","e","s","body","JSON","stringify","senderId","getUsers","filter","user1","toLowerCase","includes","trim","use","i","DeletePopup","props","deletePopup","setDeletePopup","deleteUser","ErrorOutline","Button","imagePopup","setImagePopup","image","setImage","uploadImage","formData","FormData","append","heades","htmlFor","URL","createObjectURL","onChange","target","files","accept","ProfileButton","userProfile","setUserProfile","active","setActive","res2","data2","logoutHandle","getAuthUser","split","NavBar","showSerachMobile","setShowSerachMobile","pathname","useLocation","Search","KeyboardBackspace","value","placeholder","Message","own","currentChatUser","text","moment","createdAt","fromNow","RightTopBar","setCurrentChatUser","f","ArrowBack","Right","scrollBottom","mobile","messages","setMessages","newMessage","setNewMessage","getMessages","handleSubmit","preventDefault","conversationId","scrollToBottom","useRef","current","scrollIntoView","behavior","ref","alignSelf","top","position","onSubmit","Send","justifyContent","Messages","Registration","setHandlePopup","handlePopup","showPasword","setShowPassword","email","password","cpassword","values","setValues","handleChange","name","responseFacebook","response","toast","error","padding","fontSize","iconTheme","primary","secondary","success","token","reverseOrder","Close","autoComplete","TextField","label","FormControlLabel","control","Checkbox","icon","VisibilityOff","checkedIcon","Visibility","appId","autoLoad","fields","callback","Facebook","textButton","Login","showPassword","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","noValidate","Error","App","path","exact","component","initialState","loading","verifyToken","decodeToken","jwtDecode","expiresIn","Date","exp","localStorage","setItem","removeItem","getItem","decoded","action","now","rootReducers","combineReducers","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.91a54cf2.chunk.js","sourcesContent":["import React, { useState,useEffect } from 'react'\r\nimport './ChatUser.css'\r\nimport { useSelector } from 'react-redux'\r\nimport { Skeleton } from '@material-ui/lab';\r\nimport { Delete,ErrorOutline } from '@material-ui/icons';\r\nimport { Button, IconButton } from '@material-ui/core';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n// import DeleteFriendCom from './DeleteFriendCom';\r\n\r\nconst ChatUser = ({ conversation }) => {\r\n    const { user,conversationUser,newUserData } = useSelector(state => state.AuthReducer)\r\n    // const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const {id} = useParams()\r\n    \r\n    const friendId = conversation.members.find((m) => m !== user._id) \r\n\r\n    // console.log(conversationUser);\r\n\r\n    const [chatUser, setChatUser] = useState([])\r\n    // const [friendDelete, setFriendDelete] = useState()\r\n    \r\n    const getUser = async () => {\r\n        try {\r\n            const res = await fetch(`/api/user/${friendId}`, {\r\n                method: \"get\"\r\n            })\r\n            const data = await res.json()\r\n            setChatUser(data.message);\r\n\r\n        } catch (err) {\r\n            console.log(err.message);\r\n        }\r\n    }\r\n\r\n    // delet friend \r\n    const handleDeleteFriend =async (chatUser) => {\r\n        // console.log(chatUser);\r\n        const res = await fetch(`/api/delete/friendconversation/${chatUser._id}`, {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                'Content-Type':\"application/json\"\r\n            }\r\n        })\r\n        const data = await res.json()\r\n        // console.log(data.message);\r\n        if (res.status === 200) {\r\n            history.push('/')\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(\"Location changed\");\r\n        getUser()\r\n    }, [id])\r\n      \r\n    return (\r\n        <>\r\n        <div className=\"leftChatUser\">\r\n            {\r\n                chatUser.username? (\r\n                    <>\r\n                    <div style={{display:'flex',alignItems:\"center\"}}>\r\n                        <img className=\"profileImage\" src={chatUser?.profilePicture} alt=\"\" />\r\n                        <div className=\"profileName\">{chatUser?.username}</div>\r\n                    </div>\r\n                    <IconButton >\r\n                        <Delete onClick={()=>handleDeleteFriend(chatUser)}/>\r\n                    </IconButton>\r\n                    </>\r\n                ):(\r\n                    <div style={{display:'flex',alignItems:\"center\",margin:\"0px\"}}>\r\n                        <Skeleton variant=\"circle\" width={40} height={40}  style={{background:\"rgb(0 0 0 / 20%)\"}} />\r\n                        <Skeleton variant=\"text\" width={100} height={30} style={{background:\"rgb(0 0 0 / 20%)\",marginLeft:\"20px\"}}/>\r\n                    </div>\r\n                )\r\n            }\r\n           \r\n        </div>\r\n        \r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChatUser","import React, { useEffect, useState } from 'react'\r\nimport './Left.css'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\nimport ChatUser from '../ChatUser/ChatUser'\r\n\r\nconst Left = ({currentConversation}) => {\r\n    const { user } = useSelector(state => state.AuthReducer)\r\n    const dispatch=useDispatch()\r\n\r\n    const [conversations, setConversations] = useState()\r\n\r\n    const getConversation = async () => {\r\n        const res = await fetch(`/api/conversation/${user._id}`, {\r\n            method:\"get\"\r\n        })\r\n        const data = await res.json()\r\n        // console.log(res);\r\n        setConversations(data.message);\r\n        dispatch({type:\"ADD_CONVERSATIONS_USER\",payload:data.message})\r\n    }\r\n\r\n    useEffect(() => {\r\n        getConversation()\r\n    }, [currentConversation])\r\n\r\n    // console.log(currentConversation);\r\n\r\n    return (\r\n        <section className={currentConversation?\"leftContainer\":\"leftContainer mobileLeftActive\"}>\r\n            {/* Header Bar */}\r\n            <div className=\"leftHeader\">\r\n                <div className=\"leftHeaderTitle\">Chat</div>\r\n            </div>\r\n\r\n            {/* Chat User Bar */}\r\n            <div className=\"leftChatUsers\">\r\n                {\r\n                    conversations?\r\n                    conversations.length>=1?conversations.map((conversation) =>(\r\n                    <NavLink onClick={ ()=>setTimeout(()=>{dispatch({type:\"SCROLL_BOTTOM\"})},500)} activeClassName=\"active\" to={`/message/${conversation._id}`}>\r\n                        <ChatUser conversation={conversation}/>\r\n                    </NavLink>\r\n                    ))\r\n                    :<h2 style={{textAlign:\"center\",color:'gray',userSelect:'none'}}>No user found! Search Your Friends...🤷‍♀️</h2>\r\n                    :<h1>Loading...</h1>\r\n                }  \r\n            </div>\r\n            \r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Left\r\n\r\n\r\n","import { useHistory } from 'react-router-dom';\r\nimport React, { useEffect, useState } from 'react'\r\nimport './SearchResult.css'\r\nimport {useSelector} from 'react-redux'\r\n\r\nconst SearchResult = ({ searchInput,setSearchInput }) => {\r\n    const {user,conversationUser} = useSelector(state => state.AuthReducer)\r\n    const history=useHistory()\r\n\r\n    const [users, setUsers] = useState([])\r\n\r\n    const handleClickedUser = async (handleUser) => {\r\n        \r\n        setSearchInput(\"\")\r\n        if (conversationUser.some((e)=>e.members.some(s=>s===handleUser._id))) {\r\n            history.push(`/message/${conversationUser.find((e)=>e.members.some(s=>s===handleUser._id))._id}`)\r\n        } else {\r\n            const res = await fetch('/api/conversation', {\r\n                method: \"post\",\r\n                headers: {\r\n                    'Content-Type':'application/json'\r\n                },\r\n                body:JSON.stringify({senderId:handleUser._id})\r\n            })\r\n            const data = await res.json()\r\n            // console.log(res);\r\n            // console.log(data.message);\r\n            history.push(\"/message/\"+data.message._id)\r\n        }\r\n\r\n    }\r\n    \r\n    const getUsers = async () => {\r\n        const res = await fetch('/api/users', {\r\n            method:\"get\"\r\n        })\r\n        const data = await res.json()\r\n        // console.log(res);\r\n        setUsers(data.message);\r\n    }\r\n\r\n    useEffect(() => {\r\n        getUsers()\r\n    }, [])\r\n    \r\n    return (\r\n        <div className=\"searchResultComponent\">\r\n            {\r\n                searchInput? (\r\n                <div className=\"searchUsers\">\r\n                    {users?.filter((user1) =>user1._id!==user._id && user1.username.toLowerCase().includes(searchInput?.trim().toLowerCase())).length?\r\n                    users?.filter((user1) =>user1._id!==user._id && user1.username.toLowerCase().includes(searchInput?.trim().toLowerCase()))\r\n                    .map((use,i) => (\r\n                    <div onClick={()=>handleClickedUser(use)} key={i+100} className=\"searchUser\">\r\n                        <img className=\"userProfile\" src={use?.profilePicture || \"../images/noAvatar.png\"} alt=\"\" />\r\n                        <span className=\"userName\">{use.username}</span>\r\n                    </div>\r\n                    )) : <div className=\"noUserFound\">No User is Found</div>}\r\n                </div>\r\n                ):null\r\n             }\r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchResult\r\n","import { Button } from '@material-ui/core'\r\nimport { ErrorOutline } from '@material-ui/icons'\r\nimport React from 'react'\r\nimport \"./DeletePopup.css\"\r\n\r\nconst DeletePopup = ({props:{ deletePopup, setDeletePopup, deleteUser }}) => {\r\n    // console.log(deletePopup);\r\n    return (\r\n        <div className={deletePopup?\"deletePopup active\":\"deletePopup\"}>\r\n            <div className=\"showPopup\">\r\n                <div className=\"icon-text\">\r\n                <ErrorOutline className=\"warningIcon\"/>\r\n                <h1>Want to Delete Your Account?</h1>\r\n                </div>\r\n                <div className=\"button\">\r\n                    <Button onClick={()=>setDeletePopup(false)} variant=\"outlined\" color=\"secondary\">Cancel</Button>\r\n                    <Button onClick={()=>deleteUser()} variant=\"contained\" color=\"secondary\">Delete</Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DeletePopup\r\n","import { Button } from '@material-ui/core'\r\nimport { ErrorOutline } from '@material-ui/icons'\r\nimport React, { useState } from 'react'\r\nimport './ImagePopup.css'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\n\r\nconst DeletePopup = ({props:{ imagePopup, setImagePopup, deleteUser }}) => {\r\n    // console.log(deletePopup)\r\n    const { user,newUserData } = useSelector(state => state.AuthReducer)\r\n    const dispatch = useDispatch()\r\n    // console.log(newUserData);\r\n\r\n    const [image,setImage]=useState('')\r\n    \r\n    const handleImage = (e) => {\r\n        setImage(e.target.files[0]);\r\n    }\r\n\r\n    const uploadImage = async () => {\r\n        const formData=new FormData()\r\n        formData.append('image',image)\r\n        \r\n        const res=await fetch('/api/user/profilpicture', {\r\n            method: \"PATCH\",\r\n            heades: {\r\n              'Content-Type':\"application/json\"  \r\n            },\r\n            body:formData\r\n        })\r\n        const data= await res.json()\r\n        // console.log(res);\r\n        // console.log(data);\r\n        if (res.status === 200) {\r\n            setTimeout(() => {\r\n                setImagePopup(false)\r\n            },1000)\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div className={imagePopup?\"imagePopup active\":\"imagePopup\"}>\r\n            <div className=\"showPopup\">\r\n                <div className=\"icon-text\">\r\n                \r\n                <label className=\"profileImage\" htmlFor=\"profileImage\">\r\n                    <div className=\"image\">\r\n                       <img src={image?URL.createObjectURL(image):newUserData?.profilePicture} alt=\"\" /> \r\n                    </div>                    \r\n                </label>\r\n                <input onChange={handleImage} accept='.png,.jpeg,.jpg' type=\"file\" id=\"profileImage\" style={{display:'none'}}/>\r\n                \r\n                <h1>Change Your Profile Picture</h1>\r\n                </div>\r\n                <div className=\"button\">\r\n                    <Button onClick={() => {\r\n                        setImagePopup(false)\r\n                        setImage('')\r\n                    }} variant=\"outlined\" color=\"secondary\">Cancel</Button>\r\n                    <Button onClick={()=>uploadImage()} variant=\"contained\" color=\"secondary\">Upload</Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DeletePopup\r\n","import { Button } from '@material-ui/core'\r\nimport React, { useEffect, useState } from 'react'\r\nimport './ProfileButton.css'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport DeletePopup from '../deletePopup/DeletePopup'\r\nimport ImagePopup from '../imagePopup/ImagePopup'\r\n\r\nconst ProfileButton = ({ props }) => {\r\n  \r\n  const { user,newUserData } = useSelector(state => state.AuthReducer)\r\n  const dispatch=useDispatch()\r\n\r\n  const [userProfile,setUserProfile]=useState()\r\n  const [active, setActive] = useState(false)\r\n  const [deletePopup, setDeletePopup] = useState(false)\r\n  const [imagePopup, setImagePopup] = useState(false)\r\n  \r\n  const deleteUser =async () => {\r\n    const res = await fetch(\"/api/deleteaccount\", {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\":\"application/json\"\r\n      },\r\n    })\r\n    const data = await res.json()\r\n      \r\n    const res2 = await fetch(\"/api/delete/conversation\", {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\":\"application/json\"\r\n      }\r\n    })\r\n    const data2 = await res2.json()\r\n    console.log(res2)\r\n    console.log(data2)\r\n\r\n    props.logoutHandle()\r\n    \r\n  }\r\n\r\n  const getAuthUser = async () => {\r\n    const res = await fetch('/api/user/'+user._id, {\r\n      method: 'get',\r\n    })\r\n    const data = await res.json()\r\n    setUserProfile(data.message);\r\n    dispatch({type:\"PROFILE_CHANGED\",payload:data.message})\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAuthUser()\r\n  },[imagePopup])\r\n  \r\n  return (\r\n    <>\r\n      <Button onClick={()=>setActive(!active)} className=\"profile\">\r\n          <img src={userProfile?.profilePicture || '../images/noAvatar.png'} alt=\"\" className=\"profileImage\" />\r\n          <sapn className=\"profileName\">{user.username?.split(' ')[0]}</sapn>\r\n      </Button>\r\n    <div className={active?\"profilePopup active\":\"profilePopup\"}>\r\n      <Button className=\"changeImage\" onClick={()=>setImagePopup(true)}>\r\n        <div onClick={()=>setActive(!active)}>Change Image</div>\r\n      </Button>\r\n      <Button onClick={()=>{\r\n          setActive(!active)\r\n          setDeletePopup(true)\r\n      }} className=\"changeImage\">\r\n        Delete Account\r\n      </Button>\r\n      <Button\r\n          onClick={() => {\r\n            setActive(!active)\r\n            props.logoutHandle()\r\n          }}\r\n          className=\"logoutButton\">\r\n        LOGOUT\r\n      </Button>\r\n    </div>\r\n      <DeletePopup props={{deletePopup,setDeletePopup,deleteUser}}/>\r\n      <ImagePopup props={{imagePopup,setImagePopup,deleteUser}}/>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProfileButton\r\n","import React, { useEffect, useState } from 'react'\r\nimport './NavBar.css'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport { KeyboardBackspace, Search } from '@material-ui/icons';\r\nimport { Button } from '@material-ui/core';\r\nimport { useDispatch,useSelector } from 'react-redux'\r\nimport SearchResult from '../SearchResult/SearchResult';\r\nimport ProfileButton from '../ProfileButton/ProfileButton'\r\n\r\nconst NavBar = () => {\r\n    const dispatch = useDispatch()\r\n    const { user,userProfile } = useSelector(state => state.AuthReducer)\r\n\r\n    const [searchInput,setSearchInput]=useState()\r\n    const [showSerachMobile,setShowSerachMobile]=useState(false)\r\n    \r\n    const logoutHandle = () => {\r\n       dispatch({type:\"LOGOUT\"})\r\n    }\r\n\r\n    const { pathname } = useLocation()\r\n    \r\n    useEffect(() => {\r\n        setSearchInput('')\r\n    },[pathname])\r\n\r\n    return (\r\n        <header>\r\n            <nav>\r\n            {/* header left  */}\r\n            <div className=\"headerLeft\">\r\n                <Search onClick={()=>{\r\n                    setShowSerachMobile(true) \r\n                    setSearchInput()}} className=\"searchIconFormMobile\"/>\r\n                <Link to='/'><img src=\"../images/logo.png\" alt=\"\" /></Link>\r\n            </div>\r\n\r\n            {/* hader middle  */}\r\n            <div className={showSerachMobile?\"headerMiddle active\":\"headerMiddle\"}>\r\n                <div className=\"searchBar\">\r\n                    {/* icon for only mobile  */}\r\n                        <KeyboardBackspace onClick={() => setShowSerachMobile(false)} className=\"searchCancelMobile\"/>\r\n                    {/* search input in pc */}\r\n                    <input onChange={(e)=>setSearchInput(e.target.value)} value={searchInput} placeholder=\"Search A User\" className=\"searchInput\" type=\"text\" />\r\n                    \r\n                    {/* search input in pc */}\r\n                    {/* <input onChange={(e)=>setSearchInput(e.target.value)} value={searchInput} placeholder=\"Search A User\" className=\"searchInputForMobile\" type=\"text\" /> */}\r\n                    \r\n                    {/* Show search result */}\r\n                    <SearchResult searchInput={searchInput} setSearchInput={setSearchInput}/>\r\n                </div>\r\n            </div>\r\n\r\n            {/* hader right  */}\r\n            <div className=\"headerRight\">\r\n                \r\n                <ProfileButton props={{logoutHandle}}/>\r\n                \r\n            </div>\r\n            </nav>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default NavBar\r\n","import React, { } from 'react'\r\nimport moment from 'moment'\r\nimport './Message.css'\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Message = ({ message, own,currentChatUser}) => {\r\n    const { newUserData } = useSelector(state => state.AuthReducer)\r\n    \r\n    return (\r\n        <ScrollToBottom>\r\n        <div className={`message ${own}`}>\r\n            <div className=\"messageTop\">\r\n                {own?<img className=\"messageImg\" src={newUserData?.profilePicture || '../images/noAvatar.png'} alt=\"\" />:<img className=\"messageImg\" src={currentChatUser || '../images/noAvatar.png'} alt=\"\" />}\r\n                <p className=\"messageText\">{message?.text}</p>\r\n            </div>\r\n            <div className=\"messageBottom\">{moment(message?.createdAt).fromNow()}</div>\r\n        </div>\r\n        </ScrollToBottom>\r\n    )\r\n}\r\n\r\nexport default Message\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { ArrowBack } from '@material-ui/icons'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useParams } from 'react-router-dom'\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\nconst RightTopBar = () => {\r\n    const {id}=useParams()\r\n    const { user, conversationUser } = useSelector(state => state.AuthReducer)\r\n    const dispatch=useDispatch()\r\n\r\n    const [currentChatUser,setCurrentChatUser]=useState()\r\n\r\n    // console.log(conversationUser.find(e=>e._id===id).members.find(f=>f!==user._id));\r\n\r\n    const getUser = async () => {\r\n        const res = await fetch(`/api/user/${conversationUser.find(e => e._id === id)?.members.find(f => f !== user._id)}`, {\r\n            method:\"get\"\r\n        })\r\n        const data = await res.json()\r\n        if (res.status === 200) {\r\n            setCurrentChatUser(data.message);\r\n            dispatch({ type: \"CURRENT_CHAT_USER\", payload: data.message })\r\n        } else {\r\n            dispatch({ type: \"CURRENT_CHAT_USER\", payload: null })\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getUser()\r\n    },[id])\r\n    \r\n\r\n    return (\r\n        <div className=\"profile\">\r\n            {\r\n                currentChatUser ? (\r\n                    <>\r\n                    <Link to=\"/\"><ArrowBack className=\"backMobileButton\"/></Link>\r\n                    <img className=\"profileImage\" src={currentChatUser?.profilePicture} alt=\"\" />\r\n                    <div className=\"profileName\">{currentChatUser?.username}</div>\r\n                    </>\r\n                ):(\r\n                    <div style={{display:'flex',alignItems:\"center\"}}>\r\n                        <Skeleton variant=\"circle\" width={50} height={50}  style={{background:\"rgb(0 0 0 / 20%)\"}} />\r\n                        <Skeleton variant=\"text\" width={100} height={30} style={{background:\"rgb(0 0 0 / 20%)\",marginLeft:\"20px\"}}/>\r\n                    </div>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RightTopBar\r\n","import { Send } from '@material-ui/icons'\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport Message from '../Message/Message'\r\nimport './Right.css'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport RightTopBar from './RightTopBar/RightTopBar';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Skeleton } from '@material-ui/lab';\r\nimport io from 'socket.io-client'\r\n\r\nlet socket;\r\n    \r\nlet URL = 'localhost:5000/'\r\n\r\nconst Right = ({ currentConversation }) => {\r\n    const { user, conversationUser, scrollBottom,currentChatUser } = useSelector(state => state.AuthReducer)\r\n    const dispatch = useDispatch()\r\n    \r\n    const mobile = useParams()\r\n    // console.log(mobile);\r\n\r\n    const [messages,setMessages]=useState()\r\n    const [newMessage,setNewMessage]=useState()\r\n\r\n    const getMessages = async () => {\r\n        const res = await fetch(`/api/message/${currentConversation}`, {\r\n            method:\"get\"\r\n        })\r\n        const data = await res.json()\r\n        // console.log(data);\r\n        setMessages(data.message)\r\n        if (res.status === 200) {\r\n            setTimeout(() => {\r\n                dispatch({type:\"SCROLL_BOTTOM\"})\r\n            },500)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {        \r\n        // socket = io(URL)\r\n        getMessages()\r\n\r\n    }, [currentConversation])\r\n\r\n    const handleSubmit =async (e) => {\r\n        e.preventDefault()\r\n        \r\n        if (newMessage?.trim()) {\r\n            const message={\r\n                senderId: user._id,\r\n                text: newMessage,\r\n                conversationId:currentConversation\r\n            }\r\n             \r\n            const res = await fetch('/api/newMessage', {\r\n                method: \"post\",\r\n                headers: {\r\n                    'Content-Type':'application/json'\r\n                },\r\n                body:JSON.stringify(message)\r\n            })\r\n            const data = await res.json()\r\n            // console.log(res);\r\n            // console.log(data); \r\n            setMessages([...messages,data.message])\r\n            setTimeout(() => {\r\n                dispatch({type:\"SCROLL_BOTTOM\"})\r\n            },100)\r\n            setNewMessage('')\r\n        }\r\n    }\r\n\r\n    const scrollToBottom = useRef()\r\n    \r\n    useEffect(() => {\r\n        scrollToBottom.current?.scrollIntoView({ behavior: \"auto\" })\r\n    }, [messages, scrollBottom]);\r\n    \r\n    return (\r\n        <section className={mobile.id?\"RightContainer mobileActive\":\"RightContainer\"}>\r\n        {\r\n            currentConversation?\r\n            conversationUser.some(e=>e._id===currentConversation) ? <>\r\n            {/* Right Top Bar */}\r\n            <div className=\"rightTopBar\">\r\n                <RightTopBar/>\r\n            </div>\r\n            \r\n            {/* Right Middle(Messages) Bar */}\r\n            <div className=\"rightMiddle\">\r\n                <div className=\"messages\">\r\n                    <div className=\"message\">\r\n                    {\r\n                        messages?\r\n                        messages.length?(messages.map((m,i)=>\r\n\r\n                            <div ref={scrollToBottom} >\r\n                                <Message currentChatUser={currentChatUser?.profilePicture} key={i} message={m} own={m?.senderId===user._id?'own':''}/>\r\n                            </div>\r\n\r\n                        )):<h1 style={{alignSelf:\"center\",top:'50%',position:\"absolute\"}}>No message😪</h1>\r\n                        : <h1 style={{alignSelf:\"center\",top:'50%',position:\"absolute\"}}>Loading...</h1>\r\n                    }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            {/* Right Bottom(Input)) Bar */}\r\n            <div className=\"rightBottom\">\r\n                <form onSubmit={handleSubmit} className=\"messageForm\">\r\n                    <input value={newMessage} onChange={e=>setNewMessage(e.target.value)} placeholder=\"Type Message...\" type=\"text\" className=\"messageInput\" />\r\n                    <button className=\"submitButton\" type=\"submit\"><Send/></button>\r\n                </form>\r\n            </div>\r\n            </>\r\n            :<h1 style={{display: 'flex', justifyContent: \"center\", alignItems:'center',height:'100%'}}>Nothis is found🤷‍♂️🤦‍♂️...</h1>\r\n            :\r\n            <h1 style={{display: 'flex', justifyContent: \"center\", alignItems:'center',height:'100%'}}>Select Your Friend To Chat💬👏</h1>\r\n        }\r\n            \r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Right\r\n","import React from 'react'\r\nimport './Messages.css'\r\nimport Left from '../../components/Left/Left'\r\nimport NavBar from '../../components/Navbar/NavBar'\r\nimport Right from '../../components/Right/Right'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nconst Messages = () => {\r\n    const { id } = useParams()\r\n    \r\n    // const [currentConversation,setCurrentConversation]=useState(id)\r\n\r\n    return (\r\n        <div>\r\n            {/* Top Bar */}\r\n            <NavBar />\r\n\r\n            {/* Message Section */}\r\n            <section className=\"mainMessage\">\r\n                <Left currentConversation={id} />\r\n                {id ? <Right currentConversation={id} /> : <Right/> }\r\n            </section>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Messages\r\n","import React, { useState } from 'react'\r\nimport './Registration.css'\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport {TextField,FormControlLabel,Checkbox,Button } from '@material-ui/core'\r\nimport { Facebook,Close,VisibilityOff,Visibility } from '@material-ui/icons'\r\nimport toast, { Toaster } from 'react-hot-toast';\r\nimport { useDispatch } from 'react-redux'\r\n\r\n\r\nconst Registration = ({ setHandlePopup,handlePopup }) => {\r\n    const dispatch=useDispatch()\r\n\r\n    const [showPasword,setShowPassword]=useState(true)\r\n    const [values,setValues]=useState({username:'',email:'',password:'',cpassword:''})\r\n    \r\n    const handleChange = (e) => {\r\n        setValues({ ...values, [e.target.name]: e.target.value })\r\n    }\r\n      \r\n    const responseFacebook =async (response) => {\r\n        \r\n        if (response.name && response.email && response.id) {\r\n            const res = await fetch(\"/api/registration\", {\r\n                method: \"post\",\r\n                headers: {\r\n                    \"Content-Type\":\"application/json\"\r\n                },\r\n                body:JSON.stringify({username:response.name,email:response.email,password:response.id,cpassword:response.id})\r\n            })\r\n            const data = await res.json()\r\n            // console.log(res);\r\n            // console.log(data);\r\n            if (res.status === 400) {\r\n                toast.error(data.error.username || data.error.email || data.error.password || data.error.cpassword || data.error, {\r\n                    style: {\r\n                      padding: '10px',\r\n                      color: '#fff',\r\n                      fontSize:\"16px\",\r\n                      background:\"red\"\r\n                    },\r\n                    iconTheme: {\r\n                      primary: 'white',\r\n                      secondary: 'red',\r\n                    },\r\n                  })\r\n            } else {\r\n                toast.success(data.message, {\r\n                    style: {\r\n                        padding: '10px',\r\n                        color: '#fff',\r\n                        fontSize:\"16px\",\r\n                        background:\"#62D346\"\r\n                    },\r\n                    iconTheme: {\r\n                      primary: 'white',\r\n                      secondary: '#62D346'\r\n                    }\r\n                })\r\n                dispatch({type:\"LOGIN\",payload:data.token})\r\n            }\r\n        }\r\n\r\n    }\r\n    \r\n    const handleSubmit =async (e) => {\r\n        e.preventDefault()\r\n        \r\n        const res = await fetch(\"/api/registration\", {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify(values)\r\n        })\r\n        const data = await res.json()\r\n        // console.log(res);\r\n        // console.log(data);\r\n        if (res.status === 400) {\r\n            toast.error(data.error.username || data.error.email || data.error.password || data.error.cpassword || data.error, {\r\n                style: {\r\n                  padding: '10px',\r\n                  color: '#fff',\r\n                  fontSize:\"16px\",\r\n                  background:\"red\"\r\n                },\r\n                iconTheme: {\r\n                  primary: 'white',\r\n                  secondary: 'red',\r\n                },\r\n              })\r\n        } else {\r\n            toast.success(data.message, {\r\n                style: {\r\n                    padding: '10px',\r\n                    color: '#fff',\r\n                    fontSize:\"16px\",\r\n                    background:\"#62D346\"\r\n                },\r\n                iconTheme: {\r\n                  primary: 'white',\r\n                  secondary: '#62D346'\r\n                }\r\n            })\r\n            dispatch({type:\"LOGIN\",payload:data.token})\r\n            setValues({username:'',email:'',password:'',cpassword:''})\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={handlePopup ? \"signupContainer\" : \"hide signupContainer\"}>\r\n            <Toaster\r\n            position=\"top-center\"\r\n            reverseOrder={false}\r\n            />\r\n            <div className=\"signupBox\">\r\n                <Close className=\"hideSignup\" onClick={()=>setHandlePopup(false)}/>\r\n                <h4 className=\"signupTitle\">Sign Up</h4>\r\n                <p className=\"signupDesc\">It's quick and easy</p>\r\n                <hr />\r\n                <form onSubmit={handleSubmit} autoComplete=\"off\" className=\"signupForm\">\r\n                    <TextField\r\n                        className=\"fields\" \r\n                        id=\"outlined-basic\"\r\n                        label=\"Full Name\"\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        variant=\"outlined\"\r\n                        name=\"username\"\r\n                        value={values.username}\r\n                        onChange={handleChange}\r\n                    />\r\n                    <TextField\r\n                        className=\"fields\" \r\n                        id=\"outlined-basic\"\r\n                        label=\"Email\"\r\n                        type=\"email\"\r\n                        autoComplete=\"off\"\r\n                        variant=\"outlined\"\r\n                        name=\"email\"\r\n                        value={values.email}\r\n                        onChange={handleChange}\r\n                    />\r\n                    <div className=\"fields\">\r\n                        <TextField\r\n                            id=\"outlined-password-input\"\r\n                            label=\"Password\"\r\n                            type={showPasword?'text':'password'}\r\n                            autoComplete=\"off\"\r\n                            variant=\"outlined\"\r\n                            name=\"password\"\r\n                            value={values.password}\r\n                            onChange={handleChange}\r\n                        />\r\n                        <FormControlLabel onClick={()=>setShowPassword(!showPasword)} control={<Checkbox icon={<VisibilityOff />} checkedIcon={<Visibility />} />} />\r\n                    </div>\r\n                    <div className=\"fields\">\r\n                        <TextField\r\n                            id=\"outlined-password-input\"\r\n                            label=\"Confirm Password\"\r\n                            type={showPasword?'text':'password'}\r\n                            autoComplete=\"off\"\r\n                            variant=\"outlined\"\r\n                            name=\"cpassword\"\r\n                            value={values.cpassword}\r\n                            onChange={handleChange}\r\n                        />\r\n                    </div>\r\n                    \r\n                    <input className=\"signupButton\" type=\"submit\" value=\"Sign Up\" />\r\n\r\n                </form>\r\n\r\n\r\n                {/* REGISTER WITH FACEBOOK  */}\r\n                <div className=\"alternateLogin\">\r\n                    <div className=\"signupWth\">Or</div>\r\n                    <Button className=\"facebookButton\" variant=\"contained\" color=\"primary\">\r\n                        <FacebookLogin\r\n                            appId=\"240379330783555\"// TODO: appId=\"324210142742626\"\r\n                            autoLoad={false}\r\n                            fields=\"name,email,picture\"\r\n                            callback={responseFacebook}\r\n                            icon={<Facebook className=\"facebookIcon\" />}\r\n                            textButton=\"Sign up with Facebook\"                            \r\n                        /> \r\n                    </Button>                        \r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Registration\r\n","import React,{useState } from 'react'\r\nimport './Login.css'\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport {TextField,Button,FormControlLabel,Checkbox} from '@material-ui/core'\r\nimport { Facebook,Visibility,VisibilityOff } from '@material-ui/icons'\r\nimport Registration from '../../components/Registration/Registration';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useDispatch } from 'react-redux'\r\n\r\nconst Login = () => {\r\n    const dispatch=useDispatch()\r\n    \r\n    const [handlePopup,setHandlePopup]=useState(false)\r\n    const [showPassword,setShowPassword]=useState(false)\r\n    const [values,setValues]=useState({email:'',password:''})\r\n    \r\n    const handleChange = (e) => {\r\n        setValues({ ...values, [e.target.name]: e.target.value })\r\n    }\r\n\r\n    const responseFacebook = async (response) => {\r\n        \r\n        if (response.email && response.id) {\r\n            const res = await fetch(\"/api/login\", {\r\n                method: \"post\",\r\n                headers: {\r\n                    \"Content-Type\":\"application/json\"\r\n                },\r\n                body:JSON.stringify({email:response.email,password:response.id})\r\n            })\r\n            const data = await res.json()\r\n            // console.log(res);\r\n            // console.log(data);\r\n            if (res.status === 400) {\r\n                toast.error(data.error.email || data.error.password || data.error, {\r\n                    position: \"top-center\",\r\n                    autoClose: 2000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n            } else {\r\n                toast.success(data.message, {\r\n                    position: \"top-center\",\r\n                    autoClose: 1500,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n                dispatch({type:\"LOGIN\",payload:data.token})\r\n            }\r\n        }\r\n\r\n    }\r\n    \r\n    const handleSubmit =async (e) => {\r\n        e.preventDefault()\r\n\r\n        const res = await fetch(\"/api/login\", {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify(values)\r\n        })\r\n        const data = await res.json()\r\n        // console.log(res);\r\n        // console.log(data);\r\n        if (res.status === 400) {\r\n            toast.error(data.error.email || data.error.password || data.error, {\r\n                position: \"top-center\",\r\n                autoClose: 2000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            });\r\n        } else {\r\n            toast.success(data.message, {\r\n                position: \"top-center\",\r\n                autoClose: 1500,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            });\r\n            setValues({ email: '', password: '' })\r\n            dispatch({type:\"LOGIN\",payload:data.token})\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <section className=\"loginContainer\">\r\n            <ToastContainer />\r\n            <div className=\"loginWrapper\">\r\n                {/* Login Left Side */}\r\n                <div className=\"loginLeft\">\r\n                    <div className=\"loginLeftTitle\">\r\n                        Chat-Box\r\n                    </div>\r\n                    <div className=\"loginLeftDesc\">\r\n                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illo magnam eum, atque sequi animi molestiae!\r\n                    </div>\r\n                </div>\r\n    \r\n                {/* Login Right Side */}\r\n                <div className=\"loginRight\">\r\n                    {/* <div className=\"loginRightTitle\">Login</div> */}\r\n                <div className=\"loginBox\">\r\n                    <form onSubmit={handleSubmit} className=\"loginForm\" noValidate autoComplete=\"off\">\r\n                        <TextField onChange={handleChange} value={values.email} name=\"email\" id=\"outlined-basic\" type=\"email\" label=\"Email\" variant=\"outlined\" />\r\n                        <div className=\"fields\">\r\n                        <TextField \r\n                        onChange={handleChange} \r\n                        value={values.password} \r\n                        name=\"password\" \r\n                        id=\"outlined-basic\" \r\n                        label=\"Password\" \r\n                        variant=\"outlined\" \r\n                        type={showPassword? 'text':'password'} />\r\n                        <FormControlLabel onClick={()=>setShowPassword(!showPassword)} control={<Checkbox icon={<VisibilityOff />} checkedIcon={<Visibility />}/>} />\r\n                        </div>\r\n                        <Button className=\"loginButton\" type=\"submit\" variant=\"contained\" color=\"primary\">\r\n                            Login\r\n                        </Button>\r\n                    </form>\r\n                    \r\n                    <div className=\"loginWith\">or </div>\r\n                    \r\n                    {/* LOGIN WITH FACEBOOK  */}\r\n                    <div className=\"alternateLogin\">\r\n                        <Button className=\"facebookButton\" variant=\"contained\" color=\"primary\">\r\n                           <FacebookLogin\r\n                                appId=\"240379330783555\"// TODO: appId=\"324210142742626\"\r\n                                autoLoad={false}\r\n                                fields=\"id,email,picture\"\r\n                                callback={responseFacebook}\r\n                                icon={<Facebook className=\"facebookIcon\"/>}\r\n                            /> \r\n                        </Button>                        \r\n                    </div>\r\n                    \r\n                    <div className=\"dontAccount\">Don't have any accont?</div>\r\n                    \r\n                    {/* SIGN UP BUTTON  */}\r\n                    <Button onClick={()=>setHandlePopup(true)} className=\"RegisterButton\" type=\"submit\" variant=\"contained\">\r\n                       Create New Account\r\n                    </Button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n\r\n            <Registration handlePopup={handlePopup} setHandlePopup={setHandlePopup}/>\r\n            \r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Error = () => {\r\n    return (\r\n        <div>\r\n            <h1>404! Not found page...</h1>\r\n            <Link to=\"/\">Back To Home</Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error\r\n","import React from 'react'\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport { useSelector } from 'react-redux'\n\n//Internal Component import\nimport Messages from './page/Messages/Messages';\nimport Login from './page/Login/Login';\nimport Error from './page/Error/Error';\n\nfunction App() {\n  const { user } = useSelector(state => state.AuthReducer)\n\n  return (\n    <BrowserRouter>\n      <div className=\"App\">\n      <Switch>\n        <Route path=\"/\" exact>\n          {user?<Messages/> : <Login/>}\n        </Route>\n        <Route path=\"/message/:id\" exact>\n          {user?<Messages/> : <Login/>}\n        </Route>\n        <Route exact component={Error}/>\n      </Switch>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import jwtDecode from \"jwt-decode\";\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    user: '',\r\n    token: \"\",\r\n    conversationUser: [],\r\n    currentChatUser:null,\r\n    newUserData:''\r\n}\r\n\r\nconst verifyToken = (token) => {\r\n    const decodeToken = jwtDecode(token);\r\n    const expiresIn = new Date(decodeToken.exp * 1000)\r\n    if (new Date() > expiresIn) {\r\n        localStorage.removeItem(\"myTokenChat\")\r\n    } else {\r\n        localStorage.setItem(\"myTokenChat\",token)\r\n        return decodeToken\r\n    }\r\n}\r\n\r\nconst token = localStorage.getItem(\"myTokenChat\")\r\n// console.log(token);\r\nif (token) {\r\n    const decoded = verifyToken(token)\r\n    initialState.token = token;\r\n    // console.log(decoded);\r\n    if (decoded) {\r\n        initialState.user = decoded;\r\n    }\r\n} else {\r\n    initialState.user=''\r\n}\r\n\r\nconst AuthReducer = (state=initialState,action) => {\r\n    if (action.type === 'LOGIN') {\r\n        // verifyToken(action.payload)\r\n        return {\r\n            ...state,\r\n            user:verifyToken(action.payload),\r\n            newUserData:verifyToken(action.payload),\r\n            token:action.payload\r\n        }\r\n    } else if (action.type === 'LOGOUT') {\r\n        localStorage.removeItem('myTokenChat')\r\n        return {\r\n            ...state,\r\n            user:\"\",\r\n            token:\"\"\r\n        }\r\n    }else if (action.type === 'ADD_CONVERSATIONS_USER') {\r\n        return {\r\n            ...state,\r\n            conversationUser: action.payload\r\n        }\r\n    }else if (action.type === 'SCROLL_BOTTOM') {\r\n        return {\r\n            ...state,\r\n            scrollBottom:Date.now()\r\n        }\r\n    }else if (action.type === 'CURRENT_CHAT_USER') {\r\n        return {\r\n            ...state,\r\n            currentChatUser:action.payload\r\n        }\r\n    }else if (action.type === 'PROFILE_CHANGED') {\r\n        return {\r\n            ...state,\r\n            newUserData:action.payload\r\n        }\r\n    }else {\r\n        return state\r\n    }\r\n}\r\n\r\nexport default AuthReducer","import { createStore, combineReducers } from 'redux'\r\n// import { composeWithDevTools } from 'redux-devtools-extension';\r\nimport AuthReducer from './reducer/AuthReducer'\r\n\r\nconst rootReducers = combineReducers({\r\n    AuthReducer,\r\n})\r\n\r\nconst store = createStore(rootReducers,window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './store';\nimport {Provider} from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n  <Provider store={store}>\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}